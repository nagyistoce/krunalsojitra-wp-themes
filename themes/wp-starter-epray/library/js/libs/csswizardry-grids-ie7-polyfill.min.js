// This polyfill was heavily influenced and uses code modified from the box-sizing-polyfill.js
// project.
// more info about the box-sizing-polyfill plugin can be found at:
// https://github.com/Schepp/box-sizing-polyfill
(function(e){function t(n){try{n.runtimeStyle.removeAttribute("width");n.runtimeStyle.removeAttribute("height")}catch(r){}e(n).children(".grid__item, .grid").each(function(){t(this)})}function n(t){O(t);M(t);e(t).children(".grid__item, .grid").each(function(){n(this)})}function r(e,t){var n=/^\d+(px)?$/i;if(n.test(t))return parseInt(t,10);var r=e.style.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;e.style.left=t||0;t=parseInt(e.style.pixelLeft,10);e.style.left=r;e.runtimeStyle.left=i;return t}function i(e,t){var n=/^\d+(px)?$/i;if(n.test(t))return parseInt(t,10);var r=/^[\d\.]+%$/i;if(r.test(t)){try{var s=i(e.parentElement,e.parentElement.currentStyle.paddingLeft),o=i(e.parentElement,e.parentElement.currentStyle.paddingRight),u=i(e.parentElement,e.parentElement.currentStyle.borderLeft),a=i(e.parentElement,e.parentElement.currentStyle.borderRight),f=e.parentElement.offsetWidth-s-o-u-a;t=parseFloat(t)/100*f}catch(l){t=parseFloat(t)/100*e.document.documentElement.clientWidth}return parseInt(t,10)}var c=e.style.left,h=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;e.style.left=t||0;t=parseInt(e.style.pixelLeft,10);e.style.left=c;e.runtimeStyle.left=h;return t}function s(e,t){var n=0,r=/^\d+(px)?$/i;if(r.test(t))return parseInt(t,10);var i=/^[\d\.]+%$/i;if(i.test(t)){try{if(e.parentElement.currentStyle.height!="auto"){switch(e.parentElement.nodeName){default:if(e.parentElement.currentStyle.height!=="auto"){var o=s(e.parentElement,e.parentElement.currentStyle.paddingTop),u=s(e.parentElement,e.parentElement.currentStyle.paddingBottom),a=s(e.parentElement,e.parentElement.currentStyle.borderTop),f=s(e.parentElement,e.parentElement.currentStyle.borderBottom);n=e.parentElement.offsetHeight-o-u-a-f;t=parseFloat(t)/100*n}else t="auto";break;case"HTML":n=e.document.documentElement.clientHeight;n!=="auto"?t=parseFloat(t)/100*n:t="auto"}t!=="auto"&&(t=parseInt(t,10))}else t="auto"}catch(l){t="auto"}return t}var c=e.style.left,h=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left;e.style.left=t||0;t=parseInt(e.style.pixelLeft,10);e.style.left=c;e.runtimeStyle.left=h;return t}function o(e,t){if(e.currentStyle["border"+t+"Style"]=="none")return 0;var n=r(e,e.currentStyle["border"+t+"Width"]);return n||0}function u(e){return o(e,"Left")}function a(e){return o(e,"Right")}function f(e){return o(e,"Top")}function l(e){return o(e,"Bottom")}function c(e,t){var n=r(e,e.currentStyle["padding"+t]);return n||0}function h(e){return c(e,"Left")}function p(e){return c(e,"Right")}function d(e){return c(e,"Top")}function v(e){return c(e,"Bottom")}function m(e){var t=e.style,n=e.currentStyle;return typeof t.boxSizing!="undefined"&&t.boxSizing!==""?t.boxSizing:typeof t["box-sizing"]!="undefined"&&t["box-sizing"]!==""?t["box-sizing"]:typeof n.boxSizing!="undefined"&&n.boxSizing!==""?n.boxSizing:typeof n["box-sizing"]!="undefined"&&n["box-sizing"]!==""?n["box-sizing"]:g(e)}function g(e){return e.document.compatMode===null||e.document.compatMode==="BackCompat"?"border-box":"content-box"}function y(e,t){e.runtimeStyle.width=Math.max(0,t-u(e)-h(e)-p(e)-a(e))+"px"}function b(e,t){e.runtimeStyle.minWidth=Math.max(0,t-u(e)-h(e)-p(e)-a(e))+"px"}function w(e,t){e.runtimeStyle.maxWidth=Math.max(0,t-u(e)-h(e)-p(e)-a(e))+"px"}function E(e,t){e.runtimeStyle.height=Math.max(0,t-f(e)-d(e)-v(e)-l(e))+"px"}function S(e,t){e.runtimeStyle.minHeight=Math.max(0,t-f(e)-d(e)-v(e)-l(e))+"px"}function x(e,t){e.runtimeStyle.maxHeight=Math.max(0,t-f(e)-d(e)-v(e)-l(e))+"px"}function T(e,t){e.runtimeStyle.width=Math.max(0,t+u(e)+h(e)+p(e)+a(e))+"px"}function N(e,t){e.runtimeStyle.minWidth=Math.max(0,t+u(e)+h(e)+p(e)+a(e))+"px"}function C(e,t){e.runtimeStyle.maxWidth=Math.max(0,t+u(e)+h(e)+p(e)+a(e))+"px"}function k(e,t){e.runtimeStyle.height=Math.max(0,t+f(e)+d(e)+v(e)+l(e))+"px"}function L(e,t){e.runtimeStyle.minHeight=Math.max(0,t+f(e)+d(e)+v(e)+l(e))+"px"}function A(e,t){e.runtimeStyle.maxHeight=Math.max(0,t+f(e)+d(e)+v(e)+l(e))+"px"}function O(e){if(g(e)==m(e))return;var t=e.currentStyle.width;if(t!="auto"){t=i(e,t);m(e)=="border-box"?y(e,parseInt(t,10)):T(e,parseInt(t,10))}t=e.currentStyle.minWidth;if(t!="none"){t=i(e,t);m(e)=="border-box"?b(e,parseInt(t,10)):N(e,parseInt(t,10))}t=e.currentStyle.maxWidth;if(t!="none"){t=i(e,t);m(e)=="border-box"?w(e,parseInt(t,10)):C(e,parseInt(t,10))}}function M(e){if(g(e)==m(e))return;var t=e.currentStyle.height;if(t!="auto"){t=s(e,t);t!=="auto"&&(m(e)=="border-box"?E(e,parseInt(t,10)):k(e,parseInt(t,10)))}t=e.currentStyle.minHeight;if(t!="none"){t=s(e,t);t!=="none"&&(m(e)=="border-box"?S(e,parseInt(t,10)):L(e,parseInt(t,10)))}t=e.currentStyle.maxHeight;if(t!="none"){t=s(e,t);t!=="none"&&(m(e)=="border-box"?x(e,parseInt(t,10)):A(e,parseInt(t,10)))}}e.fn.tgGridIe7Polyfill=function(){this.each(function(){t(this)});return this.each(function(){n(this)})};e(document).ready(function(){var t=e(".grid").not(".grid__item > .grid, .grid > .grid");t.tgGridIe7Polyfill();var n=!1,r=null;e(window).resize(function(e){if(!n){n=!0;r!==null&&clearTimeout(r);r=setTimeout(function(){t.tgGridIe7Polyfill();n=!1},50)}})})})(jQuery);